@page
@using Core.Interfaces
@using Enums
@using Services
@model MainPageModel
@{
    var show = true;
}
<div id="mainTop" class="tcx-main-top">
    @if (Model.DifferentItems.Count > 0)
    {
        @await Html.PartialAsync("_ResultTable", Model.DifferentItems, new ViewDataDictionary(this.ViewData)
        {
            {"Title", Localization.LabelInBothButDifferent},
            {"Show", show}
        });
        show = false;
    }
    @if (Model.OnlySourceItems.Count > 0)
    {
        @await Html.PartialAsync("_ResultTable", Model.OnlySourceItems, new ViewDataDictionary(this.ViewData)
        {
            {"Title", Localization.LabelOnlyInSource},
            {"Show", show}
        });
        show = false;
    }
    @if (Model.OnlyTargetItems.Count > 0)
    {
        @await Html.PartialAsync("_ResultTable", Model.OnlyTargetItems, new ViewDataDictionary(this.ViewData)
        {
            {"Title", Localization.LabelOnlyInTarget},
            {"Show", show}
        });
        show = false;
    }
    @if (Model.SameItems.Count > 0)
    {
        @await Html.PartialAsync("_ResultTable", Model.SameItems, new ViewDataDictionary(this.ViewData)
        {
            {"Title", Localization.LabelIdentical},
            {"Show", show}
        });
        show = false;
    }
</div>

<div id="mainBottom" style="display: none;">
    <div class="navbar p-0">
        <ul class="nav nav-tabs col-3">
            <li class="nav-item">
                <a class="nav-link active" data-toggle="tab" href="#sqlDiff">@Localization.LabelSQLView</a>
            </li>
        </ul>
        <span class="col-3 tcx-diff-item-name"></span>
        <span class="col-3 text-right pr-0">
            <button class="btn-mini" onclick="Main.SelectPrevRow();"><i class="fa fa-arrow-circle-up"></i> @Localization.ButtonPrev</button>
            <button class="btn-mini" onclick="Main.SelectNextRow();"><i class="fa fa-arrow-circle-down"></i> @Localization.ButtonNext</button>
            <button class="btn-mini mr-1" onclick="Main.HideBottomPanel();"><i class="fa fa-times"></i></button>
        </span>
    </div>

    <div class="tab-content" style="height: calc(100% - 36px);">
        <div id="sqlDiff" class="tab-pane fade show active" style="height: 100%;">
        </div>
    </div>
</div>